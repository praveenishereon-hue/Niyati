<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Niyati - AI Astrology Chatbot</title>
</head>
<body style="font-family: Arial; text-align: center; margin-top: 50px;">
  <h1>ЁЯФо Niyati - Your AI Astrology Guide</h1>
  <p>Type your question below and get instant astrological insights.</p>

  <textarea id="userInput" rows="4" cols="50" placeholder="Ask about your future..."></textarea><br><br>
  <button onclick="sendMessage()">Ask Niyati</button>

  <h3 id="response" style="margin-top: 30px; color: purple;"></h3>

  <script>
  async function sendMessage() {
    const box = document.getElementById("userInput");
    const out = document.getElementById("response");
    const q = box.value.trim();
    if (!q) { out.innerText = "рдХреГрдкрдпрд╛ рдЕрдкрдирд╛ рд╕рд╡рд╛рд▓ рд▓рд┐рдЦреЗрдВ."; return; }

    out.innerText = "ЁЯФо Niyati рд╕реЛрдЪ рд░рд╣реА рд╣реИ...";

    try {
      const resp = await fetch("https://api-inference.huggingface.co/models/google/gemma-2b-it", {
        method: "POST",
        headers: {
          "Authorization": "Bearer " + "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",
          "Content-Type": "application/json"
        },
        body: JSON.stringify({
          inputs:
`рдЖрдк рдПрдХ рдЕрдиреБрднрд╡реА рднрд╛рд░рддреАрдп рд╡реИрджрд┐рдХ рдЬреНрдпреЛрддрд┐рд╖реА рд╣реИрдВред
рд╕рд┐рд░реНрдлрд╝ *рд╣рд┐рдВрджреА* рдореЗрдВ рдЙрддреНрддрд░ рджреЗрдВ; рдПрдХ рднреА рдЕрдВрдЧреНрд░реЗрдЬрд╝реА рд╢рдмреНрдж рди рд▓рд┐рдЦреЗрдВред
рдЯреЛрди: рдЧрд░реНрдордЬреЛрд╢реА, рд╕реНрдкрд╖реНрдЯ, 3тАУ5 рд▓рд╛рдЗрдиреЛрдВ рдореЗрдВ рд╕рдВрдХреНрд╖реЗрдкред
рдлреЙрд░реНрдореЗрдЯ:
- рд╕рд╛рд░: ...
- рдЕрдЧрд▓реЗ 24 рдШрдВрдЯреЗ: ...
- рд╕рд▓рд╛рд╣: ...

рдкреНрд░рд╢реНрди: ${q}
рдЙрддреНрддрд░:`.replace(/\\/g,"")
        })
      });

      if (!resp.ok) { out.innerText = "тЪая╕П рд╕рд░реНрд╡рд░ рд╕реЗ рдЬрд╡рд╛рдм рдирд╣реАрдВ рдорд┐рд▓рд╛."; return; }

      const data = await resp.json();
      let text = (Array.isArray(data) ? data[0]?.generated_text : data?.generated_text) || "";
      // рдХрднреА-рдХрднреА рдореЙрдбрд▓ prompt рднреА рджреЛрд╣рд░рд╛ рджреЗрддрд╛ рд╣реИтАФрддреЛ "рдЙрддреНрддрд░:" рдХреЗ рдмрд╛рдж рд╡рд╛рд▓рд╛ рд╣рд┐рд╕реНрд╕рд╛ рд▓реЗрдВ
      const cut = text.split("рдЙрддреНрддрд░:").pop().trim();
      out.innerText = "тЬи " + (cut || text);
    } catch (e) {
      out.innerText = "тЪая╕П рдиреЗрдЯрд╡рд░реНрдХ рддреНрд░реБрдЯрд┐: " + e.message;
    }
  }
</script>
</body>
</html>
